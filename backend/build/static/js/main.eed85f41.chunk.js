(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{192:function(e,t,n){},314:function(e,t,n){},315:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(13),i=n.n(r),s=n(8),o=(n(192),n(18)),l=n(17),d=n(370),u=n(378),j=n(22),b=n.n(j),h=n(317),p=n(1),m=Object(d.a)({homeContainer:{marginTop:50,display:"flex",justifyContent:"center",alignItems:"center"}});var O=function(){var e=m();return Object(p.jsx)("div",{className:e.homeContainer,children:Object(p.jsx)(h.a,{variant:"h1",component:"h1",children:"Welcome dear customers."})})},x=n(380),f=n(26),g=n(373),v=n(374),y=n(377),C=n(376),w=n(375),N=n(379),k=n(11),S=n.n(k),_=n(20),I="GET_PRODUCT_SUCCESS",E="CREATE_NEW_PRODUCT",P="SIGN_IN_SUCCESS",T="GET_USER_ROLE",q="GET_USER_NAME",F="GET_USER_ID",R="GET_USERS",D="DIALOG_DATA",A="ITEMS_IN_CART",U="SEARCH_KEYWORD",L="FETCH_PENDING",W="FETCH_ERROR",B=function(){return function(){var e=Object(_.a)(S.a.mark((function e(t){var n,a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/products");case 2:return n=e.sent,e.next=5,n.json();case 5:a=e.sent,t(z(a));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},z=function(e){return{type:I,payload:{data:e}}},V=function(e,t){return function(){var n=Object(_.a)(S.a.mark((function n(a){return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:b.a.post("/products",e).then((function(e){if(e.data)return t.push("/product")})).catch((function(e){return console.log(e)}));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},G=function(e){return function(){var t=Object(_.a)(S.a.mark((function t(n){return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e&&b.a.get("/cart/".concat(e)).then((function(e){e.data&&n(M(e.data))})).catch((function(e){console.log(e)}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},M=function(e){return{type:A,payload:{items:e}}},H=function(e){return function(){var t=Object(_.a)(S.a.mark((function t(n){return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:b.a.post("/cart",e).then((function(t){t.data&&G(e.purchasedBy)})).catch((function(e){console.log(e)}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},X=function(e,t,n){return function(){var a=Object(_.a)(S.a.mark((function a(c){return S.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:b.a.post("/users",e).then((function(e){e.data&&(Q(),"signup"===n?t.push("/signin"):t.push("/dashboard"))})).catch((function(e){e.response.data.message&&(te(e.response.data.message),console.log(e.response.data.message))}));case 1:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},Y=function(e){return{type:P,payload:{isUserSignedIn:e}}},$=function(e){return{type:T,payload:{data:e}}},J=function(e){return{type:q,payload:{data:e}}},Q=function(){return function(){var e=Object(_.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b.a.get("/users").then((function(e){return t(K(e.data))})).catch((function(e){return console.log(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},K=function(e){return{type:R,payload:{data:e}}},Z=function(e){return{type:F,payload:{data:e}}},ee=function(e){return{type:D,payload:{dialog:e}}},te=function(e){return{type:W,payload:{data:e}}},ne=Object(d.a)({root:{width:345,paddingTop:40},padding:{padding:30},stock:{color:"#00E041"},backdrop:{zIndex:10,color:"#fff",backgroundColor:"rgba(0,0,0,0.1)"}});function ae(e){var t=e.prod,n=ne(),c=Object(s.b)(),r=Object(l.f)(),i=Object(s.c)((function(e){return e.user})),d=i.role,j=i.userId,m=Object(a.useState)(!1),O=Object(f.a)(m,2),x=O[0],k=O[1];t.quantity<=0&&k(!0);var I=function(e){window.confirm("Are you sure you want to delete this product?")&&c(function(e,t){return function(){var n=Object(_.a)(S.a.mark((function n(a){return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:b.a.delete("/products/".concat(e)).then((function(e){if(e.data)return B(),t.push("/product")})).catch((function(e){return console.log(e)}));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(e,r))};return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(g.a,{className:n.root+n.padding,children:[Object(p.jsxs)(v.a,{children:[Object(p.jsx)(o.b,{to:"/productdetails/".concat(t._id),children:Object(p.jsx)(w.a,{component:"img",alt:t.name,image:t.productImage,height:"440",title:"Picture here"})}),Object(p.jsxs)(C.a,{children:[Object(p.jsx)(h.a,{gutterBottom:!0,variant:"h5",component:"h2",children:t.name}),Object(p.jsxs)(h.a,{variant:"h6",component:"h1",children:["$",t.price]}),t.quantity>0?Object(p.jsx)(h.a,{variant:"h6",component:"h1",className:n.stock,children:"In stock"}):Object(p.jsx)(h.a,{variant:"h6",component:"h1",className:n.stock,children:"Out of stock"})]})]}),Object(p.jsx)(y.a,{children:"admin"===d?Object(p.jsxs)(u.a,{container:!0,children:[" ",Object(p.jsx)(o.b,{to:"/editProduct/".concat(t._id),children:Object(p.jsx)(N.a,{size:"small",color:"primary",children:"Edit"})}),Object(p.jsx)(N.a,{size:"small",color:"primary",onClick:function(){return t._id&&I(t._id)},children:"Delete"})]}):Object(p.jsx)(N.a,{size:"small",color:"primary",disabled:x,onClick:function(){var e;t._id&&(e=t._id,c(H({purchasedBy:j,items:[{productId:e,quantity:1}]})))},children:" Add to Cart "})})]},t._id)})}var ce=c.a.memo(ae);var re=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.product})),n=t.displayProduct,c=t.searchProduct,r=n.filter((function(e){return e.name.toLocaleLowerCase().includes(c.toLocaleLowerCase())})),i=Object(d.a)({root:{paddingTop:40}})();return Object(a.useEffect)((function(){e(B())}),[e]),Object(p.jsx)(u.a,{container:!0,className:i.root,children:Object(p.jsx)(u.a,{item:!0,sm:12,children:Object(p.jsx)(u.a,{item:!0,container:!0,spacing:2,justify:"center",alignContent:"center",children:r?r.map((function(e){return Object(p.jsxs)(u.a,{item:!0,sm:10,md:10,lg:4,children:[Object(p.jsx)(ce,{prod:e},e._id)," "]})})):Object(p.jsx)(x.a,{})})})})},ie=n(394),se=n(397),oe=n(381),le=n(159),de=n.n(le),ue=Object(d.a)((function(e){return{nav:{display:"flex",justifyContent:"center",alignContent:"center"},nav_item:{listStyle:"none",padding:16},nav_link:{textDecoration:"none",color:"black",fontSize:20}}}));var je=function(){var e=ue(),t=Object(s.c)((function(e){return e.user})).role;return Object(p.jsx)(ie.a,{display:"flex",justifyContent:"center",alignItems:"center",children:"admin"===t?Object(p.jsx)(u.a,{container:!0,children:Object(p.jsx)(u.a,{item:!0,children:Object(p.jsxs)("ul",{className:e.nav,children:[Object(p.jsx)("li",{className:e.nav_item,children:Object(p.jsx)(o.b,{className:e.nav_link,to:"/dashboard",children:"Dashboard"})}),Object(p.jsxs)("li",{className:e.nav_item,children:[" ",Object(p.jsx)(o.b,{className:e.nav_link,to:"/product",children:"Product"})]}),Object(p.jsxs)("li",{className:e.nav_item,children:[" ",Object(p.jsx)(o.b,{className:e.nav_link,to:"/addProduct",children:"Add New Product"})]})]})})}):Object(p.jsx)(u.a,{container:!0,children:Object(p.jsx)(u.a,{item:!0,children:Object(p.jsxs)("ul",{className:e.nav,children:[Object(p.jsx)("li",{className:e.nav_item,children:Object(p.jsx)(o.b,{className:e.nav_link,to:"/",children:"Home"})}),Object(p.jsx)("li",{className:e.nav_item,children:Object(p.jsx)(o.b,{className:e.nav_link,to:"/product",children:"Product"})})]})})})})};var be=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.user})).isSignedIn,n=function(){var t=Object(_.a)(S.a.mark((function t(){var n,a,c,r,i;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e({type:L}),t.prev=1,t.next=4,b.a.get("/users/isloggedin");case 4:n=t.sent,a=n.data.signedin,c=n.data.role,r=n.data.name,i=n.data.userId,e(Y(a)),e($(c)),e(J(r)),e(Z(i)),e(G(i)),t.next=19;break;case 16:t.prev=16,t.t0=t.catch(1),console.log(t.t0);case 19:case"end":return t.stop()}}),t,null,[[1,16]])})));return function(){return t.apply(this,arguments)}}();return Object(a.useEffect)((function(){n()}),[]),t},he=n(399),pe=Object(d.a)((function(e){return Object(he.a)({root:{width:400,padding:20},media:{width:300},card:{margin:10},textColor:{color:"#f44336"},button:{backgroundColor:"orange",margin:40},spacing:{marginTop:40},backdrop:{zIndex:10,color:"#fff",backgroundColor:"rgba(0,0,0,0.1)"}})}));var me=function(){var e,t=pe(),n=Object(s.b)(),a=Object(s.c)((function(e){return e.cart.inCart}));return Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(ie.a,{className:t.root,display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",children:[Object(p.jsx)(h.a,{className:t.textColor,variant:"h4",component:"h4",children:"You're Items"}),a?null===(e=a.items)||void 0===e?void 0:e.map((function(e){return Object(p.jsxs)(g.a,{className:t.card,children:[Object(p.jsx)("img",{className:t.media,src:e.productId.productImage,alt:e.productId.name}),Object(p.jsxs)(C.a,{children:[Object(p.jsx)(h.a,{children:e.productId.name}),Object(p.jsxs)(ie.a,{display:"flex",justifyContent:"center",alignItems:"center",children:[Object(p.jsx)(N.a,{onClick:function(){return t=e.productId._id,c=a.purchasedBy,n(H({purchasedBy:c,items:[{productId:t,quantity:-1}]})),n(G(c)),void window.location.reload();var t,c},children:"-"}),Object(p.jsx)(h.a,{children:e.quantity}),Object(p.jsx)(N.a,{onClick:function(){return t=e.productId._id,c=a.purchasedBy,n(H({purchasedBy:c,items:[{productId:t,quantity:1}]})),n(G(c)),void window.location.reload();var t,c},children:"+"})]})]})]})})):"Cart is empty",Object(p.jsxs)(h.a,{className:t.spacing,variant:"h5",component:"h5",children:[Object(p.jsx)("b",{children:"Total Amount:"})," $ ",a?Math.round(100*a.totalAmount)/100:0]}),Object(p.jsx)(N.a,{variant:"contained",className:t.button,children:"Proceed to Payment"})]})})},Oe=n(91),xe=n(169),fe=Object(d.a)((function(e){return Object(he.a)({inputRoot:{color:"inherit"},inputInput:Object(Oe.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"})})}));var ge=function(){var e=fe(),t=Object(s.b)(),n=Object(l.f)();return Object(p.jsx)("div",{children:Object(p.jsx)(xe.a,{placeholder:"Search\u2026",classes:{root:e.inputRoot,input:e.inputInput},onChange:function(e){return t(function(e,t){return t.push("/product"),{type:U,payload:{text:e}}}(e.target.value,n))},inputProps:{"aria-label":"search"}})})},ve=n.p+"static/media/fb-icon.2896da88.png",ye=n.p+"static/media/instagram-icon.ca34ae73.png",Ce=n.p+"static/media/linkedin-icon.acff5187.png",we=Object(d.a)((function(e){return{images:{width:"30px"},socialMediaContainer:{display:"flex",alignItems:"center"},listItem:{padding:e.spacing(0,2,0,0),listStyleType:"none"},logo:{width:"60px"}}}));var Ne=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.user})),n=t.role,c=t.name,r=t.pending,i=Object(s.c)((function(e){return e.cart})).inCart,l=we(),d=be(),j=Object(a.useState)(!1),m=Object(f.a)(j,2),O=m[0],g=m[1],v=0;return i&&i.items&&(v=i.items.reduce((function(e,t){return e+t.quantity}),0)),Object(p.jsx)(u.a,{container:!0,children:Object(p.jsxs)(u.a,{item:!0,xs:10,sm:12,children:[Object(p.jsxs)(u.a,{item:!0,container:!0,justify:"center",children:[" ",Object(p.jsx)(h.a,{variant:"h2",component:"h2",children:"RF-STORE"})," "]}),Object(p.jsxs)(u.a,{item:!0,container:!0,justify:"space-between",children:[Object(p.jsx)(u.a,{item:!0,xs:3,sm:4,children:Object(p.jsx)(ie.a,{my:2,display:"flex",alignItems:"center",children:Object(p.jsxs)("ul",{className:l.socialMediaContainer,children:[Object(p.jsx)("li",{className:l.listItem,children:Object(p.jsx)("a",{href:"nothing",children:Object(p.jsx)("img",{className:l.images,src:ve,alt:"Facebook Icon"})})}),Object(p.jsx)("li",{className:l.listItem,children:Object(p.jsx)("a",{href:"nothing",children:Object(p.jsx)("img",{className:l.images,src:ye,alt:"Instagram Icon"})})}),Object(p.jsx)("li",{className:l.listItem,children:Object(p.jsx)("a",{href:"nothing",children:Object(p.jsx)("img",{className:l.images,src:Ce,alt:"LinkedIn Icon"})})})]})})}),Object(p.jsx)(u.a,{item:!0,xs:3,sm:4,children:Object(p.jsxs)(ie.a,{display:"flex",justifyContent:"center",p:2,children:[" ",Object(p.jsx)(ge,{})]})}),r?Object(p.jsx)(u.a,{item:!0,xs:5,sm:4,container:!0,justify:"flex-end",children:Object(p.jsx)(x.a,{})}):d?Object(p.jsxs)(u.a,{item:!0,xs:5,sm:4,container:!0,justify:"flex-end",children:[Object(p.jsx)(ie.a,{m:2,pr:2,display:"flex",alignItems:"center",children:Object(p.jsxs)(h.a,{children:["Hello, ",c]})}),Object(p.jsx)(ie.a,{m:2,children:Object(p.jsx)(o.b,{to:"/",children:Object(p.jsx)(N.a,{variant:"contained",color:"primary",onClick:function(){return e(function(){var e=Object(_.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b.a.get("/users/logout").then((function(e){t(Y(!1)),t($("user")),t(M({purchasedBy:"",items:[],totalAmount:0}))})).catch((function(e){return console.log(e)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:"Logout"})})})]}):Object(p.jsxs)(u.a,{item:!0,xs:5,sm:4,container:!0,justify:"flex-end",children:[Object(p.jsx)(o.b,{to:"/signin",children:Object(p.jsx)(N.a,{variant:"contained",color:"primary",children:"Login"})}),Object(p.jsx)(o.b,{to:"/signup",children:Object(p.jsx)(N.a,{variant:"contained",color:"secondary",children:"Signup"})})]})]}),Object(p.jsxs)(u.a,{item:!0,container:!0,justify:"flex-start",children:[Object(p.jsx)(u.a,{item:!0,sm:8,children:Object(p.jsx)(je,{})}),"user"===n?Object(p.jsx)(u.a,{item:!0,sm:4,children:Object(p.jsxs)(ie.a,{display:"flex",justifyContent:"center",alignItems:"center",children:[Object(p.jsx)(se.a,{anchor:"right",open:O,onClose:function(){return g(!1)},children:Object(p.jsx)(me,{})}),Object(p.jsx)(N.a,{onClick:function(){return g(!0)},children:Object(p.jsx)(oe.a,{badgeContent:v,color:"error",children:Object(p.jsx)(de.a,{})})})]})}):""]})]})})},ke=n(16),Se=n(39),_e=n(77),Ie=n(12),Ee=n(398),Pe=n(396);var Te=function(e){var t=e.notify,n=e.setNotify;return Object(p.jsx)(Ee.a,{open:t.isOpen,autoHideDuration:2e3,anchorOrigin:{vertical:"top",horizontal:"right"},onClose:function(e,a){"clickaway"!==a&&n(Object(Ie.a)(Object(Ie.a)({},t),{},{isOpen:!1}))},children:Object(p.jsx)(Pe.a,{severity:t.type,children:t.message})})},qe=Object(d.a)((function(e){return Object(he.a)({margin:{margin:e.spacing(1)},extendedIcon:{marginRight:e.spacing(1)}})})),Fe={name:"",description:"",categories:"",variants:[],sizes:[],price:0,quantity:0,productImage:""},Re=Se.b().shape({name:Se.c().min(2,"Too Short").required("Required"),description:Se.c().min(10,"Description too short").required(),price:Se.a().required(),quantity:Se.a().required()});var De=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.product})).displayProduct,n=Object(l.g)()._id,c=Object(l.f)(),r=t.filter((function(e){return e._id===n})),i=Object(a.useState)({isOpen:!1,message:"",type:""}),o=Object(f.a)(i,2),d=o[0],j=o[1],h=qe(),m=Object(a.useState)(),O=Object(f.a)(m,2),x=O[0],g=O[1],v="https://api.cloudinary.com/v1_1/".concat("dfoufywyc","/image/upload"),y=function(){var e=Object(_.a)(S.a.mark((function e(t){var n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.files[0],C(n),g(n);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(_.a)(S.a.mark((function e(t){var n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=new FileReader).readAsDataURL(t),n.onloadend=Object(_.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(t){e(function(e,t){return function(){var n=Object(_.a)(S.a.mark((function n(a){return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:b.a.put("/products/".concat(e._id),e).then((function(e){e.data&&(B(),t.push("/product"))})).catch((function(e){return console.log(e)}));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(t,c)),j({isOpen:!0,message:"Saved Successfully",type:"success"})};return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(ke.c,{initialValues:n?r[0]:Fe,validationSchema:Re,onSubmit:function(){var t=Object(_.a)(S.a.mark((function t(n){var a,r,i,s;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(n,"preview source"),t.prev=1,(a=new FormData).append("file",x),a.append("upload_preset","".concat("rf-store")),t.next=7,b.a.post(v,a,{withCredentials:!1});case 7:return r=t.sent,t.next=10,r.data;case 10:return i=t.sent,t.next=13,i.secure_url;case 13:s=t.sent,n.productImage=s,e(V(n,c)),j({isOpen:!0,message:"Created Successfully",type:"success"}),t.next=22;break;case 19:t.prev=19,t.t0=t.catch(1),console.log(t.t0);case 22:case"end":return t.stop()}}),t,null,[[1,19]])})));return function(e){return t.apply(this,arguments)}}(),children:function(e){var t=e.values;e.errors,e.touched,e.setFieldValue,e.setFieldTouched;return Object(p.jsx)(ke.b,{encType:"multipart/form-data",children:Object(p.jsxs)(u.a,{container:!0,direction:"column",spacing:2,children:[Object(p.jsx)(u.a,{item:!0,lg:10,md:10,sm:10,xs:10,children:Object(p.jsx)(ke.a,{name:"name",component:_e.a,label:"Product Name",children:"Name: "})}),Object(p.jsx)(u.a,{item:!0,lg:10,md:10,sm:10,xs:10,children:Object(p.jsx)(ke.a,{name:"description",component:_e.a,label:"Description",children:"Description: "})}),Object(p.jsxs)(u.a,{item:!0,children:[Object(p.jsx)(ie.a,{id:"select-group-categories",children:"Categories"}),Object(p.jsxs)(ke.a,{name:"categories",as:"select","aria-labelledby":"select-group-categories",children:[Object(p.jsx)("option",{value:"Home",children:"Home"}),Object(p.jsx)("option",{value:"Forest",children:"Forest"}),Object(p.jsx)("option",{value:"Field",children:"Field"})]})]}),Object(p.jsxs)(u.a,{item:!0,children:[Object(p.jsx)(ie.a,{id:"checkbox-group-variants",children:"Variants"}),Object(p.jsxs)(ie.a,{role:"group","aria-labelledby":"checkbox-group-variants",children:[Object(p.jsxs)("label",{children:[Object(p.jsx)(ke.a,{type:"checkbox",name:"variants",value:"Red"}),"Red"]}),Object(p.jsxs)("label",{children:[Object(p.jsx)(ke.a,{type:"checkbox",name:"variants",value:"Yellow"}),"Yellow"]}),Object(p.jsxs)("label",{children:[Object(p.jsx)(ke.a,{type:"checkbox",name:"variants",value:"Orange"}),"Orange"]}),Object(p.jsxs)("label",{children:[Object(p.jsx)(ke.a,{type:"checkbox",name:"variants",value:"Blue"}),"Blue"]}),Object(p.jsxs)("label",{children:[Object(p.jsx)(ke.a,{type:"checkbox",name:"variants",value:"Green"}),"Green"]})]})]}),Object(p.jsxs)(u.a,{item:!0,children:[Object(p.jsx)(ie.a,{id:"checkbox-group-sizes",children:"Sizes"}),Object(p.jsxs)(ie.a,{role:"group","aria-labelledby":"checkbox-group-sizes",children:[Object(p.jsxs)("label",{children:[Object(p.jsx)(ke.a,{type:"checkbox",name:"sizes",value:"XS"}),"XS"]}),Object(p.jsxs)("label",{children:[Object(p.jsx)(ke.a,{type:"checkbox",name:"sizes",value:"S"}),"S"]}),Object(p.jsxs)("label",{children:[Object(p.jsx)(ke.a,{type:"checkbox",name:"sizes",value:"M"}),"M"]}),Object(p.jsxs)("label",{children:[Object(p.jsx)(ke.a,{type:"checkbox",name:"sizes",value:"L"}),"L"]})]})]}),Object(p.jsx)(u.a,{item:!0,lg:10,md:10,sm:10,xs:10,children:Object(p.jsx)(ke.a,{name:"price",component:_e.a,label:"Price",children:"Price: "})}),Object(p.jsx)(u.a,{item:!0,lg:10,md:10,sm:10,xs:10,children:Object(p.jsx)(ke.a,{name:"quantity",component:_e.a,label:"Quantity",children:"Quantity: "})}),Object(p.jsx)(u.a,{item:!0,lg:10,md:10,sm:10,xs:10,children:Object(p.jsx)("input",{type:"file",name:"productImage",onChange:y})}),Object(p.jsxs)(u.a,{item:!0,lg:10,md:10,sm:10,xs:10,children:[n?Object(p.jsx)(N.a,{className:h.margin,variant:"contained",color:"primary",onClick:function(){return w(t)},children:"Save"}):Object(p.jsx)(N.a,{type:"submit",className:h.margin,variant:"contained",color:"primary",children:"Submit"}),Object(p.jsx)(N.a,{variant:"contained",color:"primary",onClick:function(){c.push("/dashboard")},children:"Cancel"})]})]})})}}),Object(p.jsx)(Te,{notify:d,setNotify:j})]})},Ae=n(386),Ue=n(382),Le=n(385),We=Object(d.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}})),Be={firstName:"",lastName:"",email:"",password:""},ze=Se.b({email:Se.c().email("Enter a valid email").required("Email is required")});function Ve(){var e=Object(s.b)(),t=Object(a.useState)({isOpen:!1,message:"",type:""}),n=Object(f.a)(t,2),c=(n[0],n[1]),r=We(),i=Object(l.f)(),d=Object(s.c)((function(e){return e.user})).role,j=Object(s.c)((function(e){return e.user.error})),b=Object(ke.e)({initialValues:Be,validationSchema:ze,onSubmit:function(t){e(X(t,i,"signup")),c({isOpen:!0,message:"User Created Successfully",type:"success"})}});return console.log(j,"whats the error?"),Object(p.jsxs)(Le.a,{component:"main",maxWidth:"xs",children:[Object(p.jsx)(Ae.a,{}),Object(p.jsxs)("div",{className:r.paper,children:["user"===d?Object(p.jsxs)(h.a,{component:"h1",variant:"h5",children:[Object(p.jsx)(h.a,{children:"Hello"}),"Sign up"]}):Object(p.jsx)(h.a,{component:"h1",variant:"h5",children:"Create User"}),Object(p.jsxs)("form",{className:r.form,noValidate:!0,onSubmit:b.handleSubmit,children:[Object(p.jsxs)(u.a,{container:!0,spacing:2,children:[Object(p.jsx)(u.a,{item:!0,xs:12,sm:6,children:Object(p.jsx)(Ue.a,{autoComplete:"fname",name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0,value:b.values.firstName,onChange:b.handleChange})}),Object(p.jsx)(u.a,{item:!0,xs:12,sm:6,children:Object(p.jsx)(Ue.a,{variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"lname",value:b.values.lastName,onChange:b.handleChange})}),Object(p.jsx)(u.a,{item:!0,xs:12,children:Object(p.jsx)(Ue.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",value:b.values.email,error:b.touched.email&&Boolean(b.errors.email),helperText:b.touched.email&&b.errors.email,onChange:b.handleChange})}),Object(p.jsx)(u.a,{item:!0,xs:12,children:Object(p.jsx)(Ue.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",onChange:b.handleChange})})]}),Object(p.jsx)(N.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:r.submit,children:"Sign Up"}),Object(p.jsx)(u.a,{container:!0,justify:"flex-end",children:Object(p.jsx)(u.a,{item:!0,children:Object(p.jsx)(o.b,{to:"/signin",children:"Already have an account? Sign in"})})})]})]}),Object(p.jsx)("div",{children:j?"".concat(j):""})]})}var Ge=n(387),Me=Object(d.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}})),He={email:"",password:""};function Xe(){return Object(p.jsxs)(h.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(p.jsx)(Ge.a,{color:"inherit",href:"https://rf-meyer.com/",children:"R.F. Meyer"})," ",(new Date).getFullYear(),"."]})}function Ye(){var e=Me(),t=Object(s.b)(),n=Object(s.c)((function(e){return e.user.userId})),c=Object(l.f)(),r=Object(ke.e)({initialValues:He,onSubmit:function(e){t(function(e,t){return function(){var n=Object(_.a)(S.a.mark((function n(a){return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:b.a.post("/users/login",e).then((function(e){a(Y(!0)),a($(e.data.role)),a(Z(e.data.userId)),a(J(e.data.name)),"admin"===e.data.role?t.push("/dashboard"):t.push("/")})).catch((function(e){return console.log(e)}));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(e,c))}});return Object(a.useEffect)((function(){t(G(n))}),[t,n]),Object(p.jsxs)(Le.a,{component:"main",maxWidth:"xs",children:[Object(p.jsx)(Ae.a,{}),Object(p.jsxs)("div",{className:e.paper,children:[Object(p.jsx)(h.a,{component:"h1",variant:"h5",children:"Sign In"}),Object(p.jsxs)("form",{className:e.form,noValidate:!0,onSubmit:r.handleSubmit,children:[Object(p.jsxs)(u.a,{container:!0,spacing:2,children:[Object(p.jsx)(u.a,{item:!0,xs:12,children:Object(p.jsx)(Ue.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",value:r.values.email,onChange:r.handleChange})}),Object(p.jsx)(u.a,{item:!0,xs:12,children:Object(p.jsx)(Ue.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",onChange:r.handleChange})})]}),Object(p.jsx)(N.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,children:"Sign In"})]})]}),Object(p.jsx)(ie.a,{mt:5,children:Object(p.jsx)(Xe,{})})]})}n(314);var $e=n(165),Je=n.n($e),Qe=n(166),Ke=n.n(Qe),Ze=n(389),et=n(393),tt=n(392),nt=n(388),at=n(390),ct=n(391),rt=n(318),it=Object(d.a)({table:{minWidth:650},tableContainer:{marginTop:50}});var st=function(){var e=it(),t=Object(s.b)(),n=Object(l.f)(),c=Object(s.c)((function(e){return e.user})).users;Object(a.useEffect)((function(){t(Q())}),[t]);var r=["First Name","Last Name","Email","Role","Actions"];function i(e){window.confirm("Are you sure you want to delete this user?")&&t(function(e,t){return function(){var n=Object(_.a)(S.a.mark((function n(a){return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:b.a.delete("/users/".concat(e)).then((function(e){e.data&&(Q(),t.push("/dashboard"))})).catch((function(e){return console.log(e)}));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(e,n))}return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)(nt.a,{component:rt.a,className:e.tableContainer,children:Object(p.jsxs)(Ze.a,{className:e.table,"aria-label":"simple table",children:[Object(p.jsxs)(at.a,{children:[Object(p.jsx)(ct.a,{children:Object(p.jsx)(tt.a,{align:"right",colSpan:r.length,children:Object(p.jsx)(o.b,{to:"/dashboard/adduser",children:Object(p.jsx)(N.a,{variant:"contained",color:"primary",onClick:function(){t(ee({isOpen:!0,title:"Add New User",type:"add"}))},children:"Add User"})})})}),Object(p.jsx)(ct.a,{children:r.map((function(e){return Object(p.jsx)(tt.a,{children:e})}))})]}),Object(p.jsx)(et.a,{children:c.map((function(e){return Object(p.jsxs)(ct.a,{children:[Object(p.jsx)(tt.a,{children:e.firstName}),Object(p.jsx)(tt.a,{children:e.lastName}),Object(p.jsx)(tt.a,{children:e.email}),Object(p.jsx)(tt.a,{children:e.role}),Object(p.jsxs)(tt.a,{children:[Object(p.jsx)(o.b,{to:"/dashboard/edit/".concat(e._id),children:Object(p.jsx)(N.a,{onClick:function(){t(ee({isOpen:!0,title:"Update User",type:"edit"}))},children:Object(p.jsx)(Je.a,{})})}),Object(p.jsx)(N.a,{onClick:function(){return i(e._id)},children:Object(p.jsx)(Ke.a,{})})]})]},e._id)}))})]})})})},ot=n(400),lt=Object(d.a)((function(e){return{paper:{display:"flex",flexDirection:"column",alignItems:"center"},dialog:{margin:e.spacing(5)},form:{width:"100%",margin:e.spacing(2)},submit:{margin:e.spacing(3,0,2)}}})),dt={firstName:"",lastName:"",email:"",password:"",role:""},ut=Se.b({email:Se.c().email("Enter a valid email").required("Email is required")});var jt=function(){var e=lt(),t=Object(l.f)(),n=Object(l.g)()._id,a=Object(s.b)(),c=Object(s.c)((function(e){return e.user})),r=c.users,i=c.dialog,o=r.filter((function(e){return e._id===n}));console.log(o,"from dashfrom");var d=function(e){a(function(e,t){return function(){var n=Object(_.a)(S.a.mark((function n(a){return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:b.a.put("/users/".concat(e._id),e).then((function(e){e.data&&(Q(),t.push("/dashboard"))})).catch((function(e){return console.log(e)}));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(e,t))},j=n?o[0]:dt,h=Object(ke.e)({initialValues:j,validationSchema:ut,onSubmit:function(e){t.push("/dashboard")}});return Object(p.jsxs)("div",{className:e.dialog,children:[Object(p.jsx)("div",{className:e.paper,children:Object(p.jsx)("form",{className:e.form,noValidate:!0,onSubmit:h.handleSubmit,children:Object(p.jsxs)(u.a,{container:!0,spacing:2,children:[Object(p.jsx)(u.a,{item:!0,xs:12,sm:6,children:Object(p.jsx)(Ue.a,{name:"firstName",variant:"outlined",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0,value:h.values.firstName,onChange:h.handleChange})}),Object(p.jsx)(u.a,{item:!0,xs:12,sm:6,children:Object(p.jsx)(Ue.a,{variant:"outlined",required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",value:h.values.lastName,onChange:h.handleChange})}),Object(p.jsx)(u.a,{item:!0,xs:12,children:Object(p.jsx)(Ue.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",value:h.values.email,error:h.touched.email&&Boolean(h.errors.email),helperText:h.touched.email&&h.errors.email,onChange:h.handleChange})}),n?"":Object(p.jsx)(u.a,{item:!0,xs:12,children:Object(p.jsx)(Ue.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",onChange:h.handleChange})}),Object(p.jsx)(u.a,{item:!0,xs:12,children:Object(p.jsxs)(Ue.a,{id:"roles",select:!0,label:"Select Role",onChange:h.handleChange,variant:"outlined",name:"role",value:h.values.role,fullWidth:!0,defaultValue:!0,children:[Object(p.jsx)(ot.a,{value:"admin",children:"admin"}),Object(p.jsx)(ot.a,{value:"user",children:"user"})]})})]})})}),Object(p.jsx)(N.a,{autoFocus:!0,onClick:function(){t.push("/dashboard")},color:"primary",variant:"contained",children:"Cancel"}),"add"===i.type?Object(p.jsx)(N.a,{type:"submit",color:"primary",variant:"contained",onClick:function(){return e=h.values,void a(X(e,t,"dashboard"));var e},children:"Submit"}):Object(p.jsx)(N.a,{onClick:function(){return d(h.values)},color:"primary",variant:"contained",children:"Update"})]})},bt=Object(d.a)({root:{maxWidth:200,paddingTop:40},media:{height:700,objectFit:"cover"},padding:{padding:30},stock:{color:"#00E041"}});var ht=function(){var e=bt(),t=Object(s.b)(),n=Object(l.g)().id,c=Object(s.c)((function(e){return e.product.displayProduct})),r=Object(s.c)((function(e){return e.user.userId})),i=c.filter((function(e){return e._id===n})),o=Object(f.a)(i,1)[0],d=Object(a.useState)(!1),u=Object(f.a)(d,2),j=u[0],b=u[1];return o.quantity<=0&&b(!0),Object(p.jsx)(p.Fragment,{children:Object(p.jsxs)(g.a,{className:e.root+e.padding,children:[Object(p.jsxs)(v.a,{children:[Object(p.jsx)(w.a,{className:e.media,component:"img",alt:o.name,image:o.productImage,title:"Picture here"}),Object(p.jsxs)(C.a,{children:[Object(p.jsx)(h.a,{gutterBottom:!0,variant:"h5",component:"h2",children:o.name}),Object(p.jsxs)(h.a,{variant:"h6",component:"h1",children:["$",o.price]}),o.quantity>0?Object(p.jsx)(h.a,{variant:"h6",component:"h1",className:e.stock,children:"In stock"}):Object(p.jsx)(h.a,{variant:"h6",component:"h1",className:e.stock,children:"Out of stock"}),Object(p.jsx)(h.a,{children:o.description})]})]}),Object(p.jsx)(y.a,{children:Object(p.jsx)(N.a,{size:"small",color:"primary",disabled:j,onClick:function(){return e=o._id,void t(H({purchasedBy:r,items:[{productId:e,quantity:1}]}));var e},children:"Add to Cart"})})]},o._id)})};b.a.defaults.withCredentials=!0;var pt=Object(d.a)({root:{paddingTop:40}});var mt=function(){var e=pt();return Object(p.jsx)("div",{children:Object(p.jsxs)(u.a,{container:!0,className:e.root,children:[Object(p.jsx)(u.a,{item:!0,xs:1,sm:2}),Object(p.jsx)(u.a,{item:!0,xs:10,sm:8,children:Object(p.jsxs)(o.a,{children:[Object(p.jsx)(Ne,{}),Object(p.jsxs)(l.c,{children:[Object(p.jsx)(l.a,{exact:!0,path:"/",children:Object(p.jsx)(O,{})}),Object(p.jsx)(l.a,{path:"/product",children:Object(p.jsx)(re,{})}),Object(p.jsx)(l.a,{path:"/signup",children:Object(p.jsx)(Ve,{})}),Object(p.jsx)(l.a,{path:"/signin",children:Object(p.jsx)(Ye,{})}),Object(p.jsx)(l.a,{exact:!0,path:"/dashboard",children:Object(p.jsx)(st,{})}),Object(p.jsx)(l.a,{path:"/addProduct",children:Object(p.jsx)(De,{})}),Object(p.jsx)(l.a,{path:"/editProduct/:_id",children:Object(p.jsx)(De,{})}),Object(p.jsx)(l.a,{path:"/productdetails/:id",children:Object(p.jsx)(ht,{})}),Object(p.jsx)(l.a,{exact:!0,path:"/dashboard/edit/:_id",children:Object(p.jsx)(jt,{})}),Object(p.jsx)(l.a,{exact:!0,path:"/dashboard/adduser",children:Object(p.jsx)(jt,{})})]})]})}),Object(p.jsx)(u.a,{item:!0,xs:1,sm:2})]})})},Ot=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,402)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),c(e),r(e),i(e)}))},xt=n(70),ft=n(167),gt=n(30),vt={displayProduct:[],searchProduct:""},yt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return Object(Ie.a)(Object(Ie.a)({},e),{},{displayProduct:t.payload.data});case E:var n=t.payload.data;return e.displayProduct.find((function(e){return e.name===n.name}))?e:Object(Ie.a)(Object(Ie.a)({},e),{},{displayProduct:[].concat(Object(gt.a)(e.displayProduct),[n])});case U:return Object(Ie.a)(Object(Ie.a)({},e),{},{searchProduct:t.payload.text});default:return e}},Ct={isSignedIn:!1,role:"",name:"",userId:"",users:[],dialog:{isOpen:!1,title:"",type:""},pending:!1,error:null},wt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ct,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return Object(Ie.a)(Object(Ie.a)({},e),{},{pending:!0});case W:return Object(Ie.a)(Object(Ie.a)({},e),{},{error:t.payload.data});case P:return Object(Ie.a)(Object(Ie.a)({},e),{},{isSignedIn:t.payload.isUserSignedIn,pending:!1});case T:return Object(Ie.a)(Object(Ie.a)({},e),{},{role:t.payload.data});case q:return Object(Ie.a)(Object(Ie.a)({},e),{},{name:t.payload.data});case R:return Object(Ie.a)(Object(Ie.a)({},e),{},{users:t.payload.data});case D:return Object(Ie.a)(Object(Ie.a)({},e),{},{dialog:t.payload.dialog});case F:return Object(Ie.a)(Object(Ie.a)({},e),{},{userId:t.payload.data});default:return e}},Nt={inCart:{purchasedBy:"",items:[],totalAmount:0}||void 0,pending:!1},kt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case L:return Object(Ie.a)(Object(Ie.a)({},e),{},{pending:!0});case A:var n=t.payload.items;return Object(Ie.a)(Object(Ie.a)({},e),{},{pending:!1,inCart:n});default:return e}},St=function(){return Object(xt.b)({product:yt,user:wt,cart:kt})},_t=[ft.a],It=xt.c;window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__&&(It=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__);var Et=Object(xt.d)(St(),{product:{displayProduct:[],searchProduct:""},user:{isSignedIn:!1,role:"",name:"",userId:"",users:[],dialog:{isOpen:!1,title:"",type:""},pending:!1,error:null},cart:{inCart:{purchasedBy:"",items:[],totalAmount:0},pending:!1}},It(xt.a.apply(void 0,_t))),Pt=function(){return Object(p.jsx)(s.a,{store:Et,children:Object(p.jsx)(mt,{})})};i.a.render(Object(p.jsx)(Pt,{}),document.getElementById("root")),Ot()}},[[315,1,2]]]);
//# sourceMappingURL=main.eed85f41.chunk.js.map